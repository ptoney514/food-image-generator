name = "food-image-api"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Development settings
[dev]
port = 8788

# R2 bucket binding for image storage
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "platepair-images"

# Environment variables (set via wrangler secret or .dev.vars)
# Required secrets:
# - DATABASE_URL: Supabase Postgres connection string
# - SUPABASE_JWT_SECRET: JWT secret for auth verification
# - STABILITY_API_KEY: Stability AI API key
# - R2_PUBLIC_URL: Custom domain for R2 bucket (https://platepair.com)
# - ALLOWED_ORIGINS: Comma-separated list of allowed CORS origins

[observability]
enabled = true
